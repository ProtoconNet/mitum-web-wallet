(this["webpackJsonpmitum-web-wallet"]=this["webpackJsonpmitum-web-wallet"]||[]).push([[0],{107:function(e,t,n){(function(t){var i=n(83),r=n(84),s=n(205),c=n(139),a=n(258),o=n(497).Uint64BE,u=function(){"use strict";function e(t){i(this,e),this.big=BigInt(t),this.num=t}return r(e,[{key:"value",get:function(){return this.num}},{key:"absValue",get:function(){return this.big<0?BigInt(-this.value):this.big}},{key:"byteSize",value:function(){return this.num<2?1:Math.ceil(Math.log(this.num)/Math.log(2)/8)}},{key:"buffer",value:function(){if(this.byteSize()>8)throw"[ERROR] Buffer overflow!";var e=new o(parseInt(this.absValue));return this._reverse(e.toBuffer())}},{key:"little",value:function(){if(this.byteSize()>4)throw"[ERROR] Buffer overflow!";var e=t.alloc(this.byteSize()),n=t.alloc(4-this.byteSize());return e.writeUIntLE(this.num,0,this.byteSize()),e=this._reverse(e),t.concat([e,n])}},{key:"tight",value:function(){if(this.byteSize()>8)throw"[ERROR] Buffer overflow!";var e=t.alloc(this.byteSize());return e.writeUIntBE(this.num,0,this.byteSize()),e}},{key:"_reverse",value:function(e){for(var n=t.from(e),i=0;i<n.length/2;i++){var r=n[i];n[i]=n[n.length-1-i],n[n.length-1-i]=r}return n}}]),e}(),l=function(e){var t=e.indexOf("T"),n=e.indexOf("Z");return e.substring(0,t).concat(" ",e.substring(t+1,n)," ","+0000"," UTC")};e.exports={BigInteger:u,_hint:function(e){return e+"-"+s.VERSION},parseHinted:function(e){var t=e.indexOf(":"),n={};if(-1===t)throw"[ERROR] Invalid hinted format";if(-1===e.indexOf("-"))throw"[ERROR] Invalid hint format";return n.hintless=e.substring(0,t),n.hint=e.substring(t+1),n},getTypeFromHint:function(e){var t=e.lastIndexOf("-");if(-1===t)throw"[ERROR] Invalid hint format";return e.substring(0,t)},getTimeStamp:function(){return new Date},dateToUTC:function(e){return l(e.toISOString())},ISOToUTC:l,concatObjectsToBuffer:function(e){for(var n=t.alloc(0),i=0;i<e.length;i++)n=t.concat([n,e[i].buffer()]);return n},sha256:function(e){return c.createHash("sha256").update(e).digest()},sum256:function(e){return t.from(a.sha3_256.create().update(e).digest())}}}).call(this,n(2).Buffer)},113:function(e,t){t.MC_ADDRESS="mca",t.MC_TRANSFERS_OP_FACT="mitum-currency-transfers-operation-fact",t.MC_TRANSFERS_OP="mitum-currency-transfers-operation",t.MC_KEY="mitum-currency-key",t.MC_KEYS="mitum-currency-keys",t.MC_CREATE_ACCOUNTS_OP_FACT="mitum-currency-create-accounts-operation-fact",t.MC_CREATE_ACCOUNTS_OP="mitum-currency-create-accounts-operation",t.MC_KEYUPDATER_OP_FACT="mitum-currency-keyupdater-operation-fact",t.MC_KEYUPDATER_OP="mitum-currency-keyupdater-operation",t.MC_FEE_OP_FACT="mitum-currency-fee-operation-fact",t.MC_FEE_OP="mitum-currency-fee-operation",t.MC_ACCOUNT="mitum-currency-account",t.MC_NODE_INFO="mitum-currency-node-info",t.MC_HAL="mitum-currency-hal",t.MC_PROBLEM="mitum-currency-problem",t.MC_ACCOUNT_VALUE="mitum-currency-account-value",t.MC_OP_VALUE="mitum-currency-operation-value",t.MC_GENESIS_CURRENCIES_OP_FACT="mitum-currency-genesis-currencies-operation-fact",t.MC_GENESIS_CURRENCIES_OP="mitum-currency-genesis-currencies-operation",t.MC_AMOUNT="mitum-currency-amount",t.MC_AMOUNT_STATE="mitum-currency-amount-state",t.MC_CREATE_ACCOUNTS_MULTIPLE_AMOUNTS="mitum-currency-create-accounts-multiple-amounts",t.MC_CREATE_ACCOUNTS_SINGLE_AMOUNT="mitum-currency-create-accounts-single-amount",t.MC_TRANSFERS_ITEM_MULTI_AMOUNTS="mitum-currency-transfers-item-multi-amounts",t.MC_TRNASFERS_ITEM_SINGLE_AMOUNT="mitum-currency-transfers-item-single-amount",t.MC_CURRENCY_REGISTER_OP_FACT="mitum-currency-currency-register-operation-fact",t.MC_CURRENCY_REGISTER_OP="mitum-currency-currency-register-operation",t.MC_CURRENCY_DESIGN="mitum-currency-currency-design",t.MC_NIL_FEEER="mitum-currency-nil-feeer",t.MC_FIXED_FEEER="mitum-currency-fixed-feeer",t.MC_RATIO_FEEER="mitum-currency-ratio-feeer",t.MC_CURRENCY_POLICY_UPDATER_OP_FACT="mitum-currency-currency-policy-updater-operation-fact",t.MC_CURRENCY_POLICY_UPDATER_OP="mitum-currency-currency-policy-updater-operation",t.MC_CURRENCY_POLICY="mitum-currency-currency-policy",t.JSON="json-encoder0101",t.BSON="bson-encoder",t.STRING_ADDRESS="sa",t.STELLAR_PRIVKEY="stellar-priv",t.STELLAR_PBLCKEY="stellar-pub",t.BTC_PRIVKEY="btc-priv",t.BTC_PBLCKEY="btc-pub",t.ETHER_PRIVKEY="ether-priv",t.ETHER_PBLCKEY="ether-pub",t.INIT_BALLOT="init-ballot",t.PROPOSAL="proposal",t.SIGN_BALLOT="sign-ballot",t.ACCEPT_BALLOT="accept-ballot",t.INIT_BALLOT_FACT="init-ballot-fact",t.PROPOSAL_FACT="proposal-fact",t.SIGN_BALLOT_FACT="sign-ballot-fact",t.ACCEPT_BALLOT_FACT="accept-ballot-fact",t.VOTEPROOF="voteproof",t.BLOCK_V0="block",t.BLOCK_MANIFEST_V0="block-manifest",t.BLOCK_CONSENSUS_INFO_V0="block-consensus-info",t.BLOCK_SUFFRAGE_INFO_V0="block-suffrage-info",t.BASE_FACT_SIGN="base-fact-sign",t.SEAL="seal",t.BASE_FIXEDTREE_NODE="base-fixedtree-node",t.FIXEDTREE="fixedtree",t.OP_FIXEDTREE_NODE="operation-fixedtree-node",t.BASE_OP_REASON="base-operation-reason",t.STETE_V0="stete",t.STATE_BYTES_VALUE="state-bytes-value",t.STATE_DURATION_VALUE="state-duration-value",t.STATE_HINTED_VALUE="state-hinted-value",t.STATE_NUMBER_VALUE="state-number-value",t.STATE_SLICE_VALUE="state-slice-value",t.STATE_STRING_VALUE="state-string-value",t.BASE_NODE_V0="base-node",t.NODE_INFO_V0="node-info",t.LOCALFS_BLOCKDATA="localfs-blockdata",t.BASE_BLOCKDATAMAP="base-blockdatamap",t.BLOCKDATA_WRITER="blockdata-writer",t.PROBLEM="mitum-problem"},138:function(e,t,n){(function(t){var i=n(83),r=n(84),s=n(398),c=n(204),a=n(107),o=n(113),u=n(91),l=n(92),h=function(){"use strict";function e(t){i(this,e),this.netID=t}return r(e,[{key:"id",get:function(){return this.netID}},{key:"setNetworkID",value:function(e){this.netID=e}},{key:"formatKey",value:function(e,t){if(-1===e.indexOf(":"))throw"[ERROR] Invalid key";if("number"!==typeof t)throw"[ERROR] Invalid weight";return{key:e,weight:t}}},{key:"formatAmount",value:function(e,t){if("number"!==typeof e)throw"[ERROR] Invalid amount";if(t.length<1)throw"[ERROR] Invalid currency id";return{big:e,cid:t}}},{key:"createKeys",value:function(e,t){return function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(new u.Key(e[i].key,e[i].weight));return new u.Keys(n,t)}(e,t)}},{key:"createAmounts",value:function(e){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(new s.Amount(e[n].big,e[n].cid));return t}(e)}},{key:"createCreateAccountsItem",value:function(e,t){var n=t.length<=1?o.MC_CREATE_ACCOUNTS_SINGLE_AMOUNT:o.MC_CREATE_ACCOUNTS_MULTIPLE_AMOUNTS;return new s.CreateAccountsItem(n,e,t)}},{key:"createTransfersItem",value:function(e,t){var n=t.length<=1?o.MC_TRNASFERS_ITEM_SINGLE_AMOUNT:o.MC_TRANSFERS_ITEM_MULTI_AMOUNTS;return new s.TransfersItem(n,e,t)}},{key:"createCreateAccountsFact",value:function(e,t){return new s.CreateAccountsFact(e,t)}},{key:"createKeyUpdaterFact",value:function(e,t,n){return new s.KeyUpdaterFact(e,t,n)}},{key:"createTransfersFact",value:function(e,t){return new s.TransfersFact(e,t)}},{key:"createOperation",value:function(e,t){var n;if(e instanceof s.CreateAccountsFact)n=o.MC_CREATE_ACCOUNTS_OP;else if(e instanceof s.KeyUpdaterFact)n=o.MC_KEYUPDATER_OP;else{if(!(e instanceof s.TransfersFact))throw"[ERROR] Invalid fact object";n=o.MC_TRANSFERS_OP}return new s.Operation(this.netID,n,t,e)}},{key:"createSeal",value:function(e,n){for(var i=c.getKeypair(e),r=a.getTimeStamp(),s=t.from(a.dateToUTC(r)),u=t.from(i.getPublicKey()),h=t.from(""),d=0;d<n.length;d++)h=t.concat([h,n[d].hash]);var f=a.sum256(t.concat([u,s,h])),p=i.sign(t.concat([f,t.from(this.netID)])),b=a.sum256(t.concat([f,p])),j={};j._hint=a._hint(o.SEAL),j.hash=l.encode(b),j.body_hash=l.encode(f),j.signer=i.getPublicKey(),j.signature=l.encode(p),j.signed_at=r.toISOString();var O=[];for(d=0;d<n.length;d++)O.push(n[d].dict());return j.operations=O,j}}]),e}(),d={toJSONString:function(e){return JSON.stringify(e,null,4)},generateFile:function(e,t){n(785).writeFile(t,JSON.stringify(e,null,4),(function(e){if(e)throw e})),console.log("generateFile() arg: "+t+", Success...")}},f=function(e){var n=t.from(e.signer),i=l.decode(e.signature),r=t.from(a.ISOToUTC(e.signed_at));return t.concat([n,i,r])},p=function(){"use strict";function e(t,n){i(this,e),this.netID=t,this.signKey=n}return r(e,[{key:"setNetId",value:function(e){this.netID=e}},{key:"signOperation",value:function(e){var n="string"===typeof e?JSON.parse(fs.readFileSync(e)):typeof e===typeof{}?e:void 0;if(n){var i={},r=n.fact.hash,s=l.decode(r),o=n.fact_signs;o.push(c.newFactSign(t.concat([s,t.from(this.netID)]),this.signKey).dict());var u=function(e){for(var n=t.from(""),i=0;i<e.length;i++)n=t.concat([n,f(e[i])]);return n}(o);i.memo=n.memo,i._hint=n._hint,i.fact=n.fact,i.fact_signs=o;var h=t.from(n.memo);return i.hash=l.encode(a.sum256(t.concat([s,u,h]))),i}}}]),e}();e.exports={Generator:h,JSONParser:d,Signer:p}}).call(this,n(2).Buffer)},204:function(e,t,n){(function(t){var i=n(83),r=n(84),s=n(107),c=n(91),a=n(113),o=n(92),u=function(){"use strict";function e(t,n,r){i(this,e),this.hint=s._hint(a.BASE_FACT_SIGN),this.signer=t,this.sign=n,this.at=r}return r(e,[{key:"buffer",value:function(){var e=t.from(this.signer),n=this.sign,i=t.from(s.dateToUTC(this.at));return t.concat([e,n,i])}},{key:"signedAt",value:function(){return this.at.toISOString()}},{key:"dict",value:function(){var e={};return e._hint=this.hint,e.signer=this.signer,e.signature=o.encode(this.sign),e.signed_at=this.signedAt(),e}}]),e}(),l=function(e){var t=s.parseHinted(e);switch(s.getTypeFromHint(t.hint)){case a.BTC_PRIVKEY:return new c.BTCKeypair(t.hintless);case a.ETHER_PRIVKEY:return new c.ETHKeypair(t.hintless);case a.STELLAR_PRIVKEY:return new c.StellarKeypair(t.hintless);default:throw"[ERROR] Invalid Signing Key"}};e.exports={FactSign:u,getKeypair:l,newFactSign:function(e,t){var n,i;try{i=l(t),n=new u(i.getPublicKey(),i.sign(e),s.getTimeStamp())}catch(r){return console.log(r),null}return n}}}).call(this,n(2).Buffer)},205:function(e,t){t.VERSION="v0.0.1",t._VERSION="v0.0.1"},25:function(e){e.exports=JSON.parse('{"version":"v0.0.1","key":{"btc":{"priv":"btc-priv","pub":"btc-pub"},"ether":{"priv":"ether-priv","pub":"ether-pub"},"stellar":{"priv":"stellar-priv","pub":"stellar-pub"}},"operation":{"create_account":"mitum-currency-create-accounts-operation","update_key":"mitum-currency-keyupdater-operation","transfer":"mitum-currency-transfers-operation"},"address":"mca"}')},367:function(e,t,n){},368:function(e,t,n){},369:function(e,t,n){},38:function(e,t,n){e.exports={Generator:n(138).Generator,JSONParser:n(138).JSONParser,getKeypair:n(91).getKeypair,toKeypair:n(91).toKeypair,Signer:n(138).Signer}},390:function(e,t,n){},391:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},398:function(e,t,n){(function(t){var i=n(202),r=n(203),s=n(83),c=n(84),a=n(204),o=n(107),u=n(113),l=(n(91),n(92)),h=function(){"use strict";function e(t,n){s(this,e),this.hint=o._hint(u.MC_AMOUNT),this.big=new o.BigInteger(t),this.cid=n}return c(e,[{key:"buffer",value:function(){var e=this.big.tight(),n=t.from(this.cid);return t.concat([e,n])}},{key:"dict",value:function(){var e={};return e._hint=this.hint,e.amount=this.big.value.toString(),e.currency=this.cid,e}}]),e}(),d=function(){"use strict";function e(t){s(this,e);var n=o.parseHinted(t);this.hint=n.hint,this.addr=n.hintless}return c(e,[{key:"buffer",value:function(){return t.from(this.addr)}},{key:"hinted",value:function(){return this.addr+":"+this.hint}}]),e}(),f=function(){"use strict";function e(t,n){s(this,e),this.hint=o._hint(t),this.amounts=n}return c(e,[{key:"buffer",value:function(){throw"[ERROR] Unimplemented function bytes()"}},{key:"dict",value:function(){throw"[ERROR] Unimplemented function dict()"}}]),e}(),p=function(e){"use strict";i(a,e);var n=r(a);function a(e,t,i){var r;return s(this,a),(r=n.call(this,e,i)).keys=t,r}return c(a,[{key:"buffer",value:function(){var e=this.keys.buffer(),n=o.concatObjectsToBuffer(this.amounts);return t.concat([e,n])}},{key:"dict",value:function(){var e={};e._hint=this.hint,e.keys=this.keys.dict();for(var t=[],n=0;n<this.amounts.length;n++)t.push(this.amounts[n].dict());return e.amounts=t,e}}]),a}(f),b=function(e){"use strict";i(a,e);var n=r(a);function a(e,t,i){var r;return s(this,a),(r=n.call(this,e,i)).receiver=new d(t),r}return c(a,[{key:"buffer",value:function(){var e=t.from(this.receiver.hinted()),n=o.concatObjectsToBuffer(this.amounts);return t.concat([e,n])}},{key:"dict",value:function(){var e={};e._hint=this.hint,e.receiver=this.receiver.hinted();for(var t=[],n=0;n<this.amounts.length;n++)t.push(this.amounts[n].dict());return e.amounts=t,e}}]),a}(f),j=function(){"use strict";function e(t){s(this,e),this.hint=o._hint(t),this.token=o.getTimeStamp()}return c(e,[{key:"buffer",value:function(){throw"[ERROR] Unimplemented function bytes()"}},{key:"dict",value:function(){throw"[ERROR] Unimplemented function dict()"}},{key:"_generateHash",value:function(){this.hash=o.sum256(this.buffer())}}]),e}(),O=function(e){"use strict";i(a,e);var n=r(a);function a(e,t){var i;return s(this,a),(i=n.call(this,u.MC_CREATE_ACCOUNTS_OP_FACT)).sender=new d(e),i.items=t,i._generateHash(),i}return c(a,[{key:"buffer",value:function(){var e=t.from(this.token.toISOString()),n=t.from(this.sender.hinted()),i=o.concatObjectsToBuffer(this.items);return t.concat([e,n,i])}},{key:"dict",value:function(){var e={};e._hint=this.hint,e.hash=l.encode(this.hash),e.token=t.from(this.token.toISOString(),"utf8").toString("base64"),e.sender=this.sender.hinted();for(var n=[],i=0;i<this.items.length;i++)n.push(this.items[i].dict());return e.items=n,e}}]),a}(j),y=function(e){"use strict";i(a,e);var n=r(a);function a(e,t,i){var r;return s(this,a),(r=n.call(this,u.MC_KEYUPDATER_OP_FACT)).target=new d(e),r.cid=t,r.keys=i,r._generateHash(),r}return c(a,[{key:"buffer",value:function(){var e=t.from(this.token.toISOString()),n=t.from(this.target.hinted()),i=this.keys.buffer(),r=t.from(this.cid);return t.concat([e,n,i,r])}},{key:"dict",value:function(){var e={};return e._hint=this.hint,e.hash=l.encode(this.hash),e.token=t.from(this.token.toISOString(),"utf8").toString("base64"),e.target=this.target.hinted(),e.keys=this.keys.dict(),e.currency=this.cid,e}}]),a}(j),v=function(e){"use strict";i(a,e);var n=r(a);function a(e,t){var i;return s(this,a),(i=n.call(this,u.MC_TRANSFERS_OP_FACT)).sender=new d(e),i.items=t,i._generateHash(),i}return c(a,[{key:"buffer",value:function(){var e=t.from(this.token.toISOString()),n=t.from(this.sender.hinted()),i=o.concatObjectsToBuffer(this.items);return t.concat([e,n,i])}},{key:"dict",value:function(){var e={};e._hint=this.hint,e.hash=l.encode(this.hash),e.token=t.from(this.token.toISOString(),"utf8").toString("base64"),e.sender=this.sender.hinted();for(var n=[],i=0;i<this.items.length;i++)n.push(this.items[i].dict());return e.items=n,e}}]),a}(j),m=function(){"use strict";function e(t,n,i,r){s(this,e),this.netID=t,this.hint=o._hint(n),this.memo=i,this.fact=r,this.fact_signs=[],this.hash=void 0}return c(e,[{key:"_generateFactSign",value:function(e){return a.newFactSign(t.concat([this.fact.hash,t.from(this.netID)]),e)}},{key:"_generateHash",value:function(){this.hash=o.sum256(this.buffer())}},{key:"addSign",value:function(e){this.fact_signs.push(this._generateFactSign(e,this.netID)),this._generateHash()}},{key:"buffer",value:function(){if(this.fact_signs.length<1)throw"[ERROR] Empty fact sign!";var e=this.fact.hash,n=o.concatObjectsToBuffer(this.fact_signs),i=t.from(this.memo);return t.concat([e,n,i])}},{key:"dict",value:function(){var e={};e.memo=this.memo,e._hint=this.hint,e.fact=this.fact.dict(),e.hash=l.encode(this.hash);for(var t=[],n=0;n<this.fact_signs.length;n++)t.push(this.fact_signs[n].dict());return e.fact_signs=t,e}}]),e}();e.exports={Amount:h,Address:d,CreateAccountsItem:p,TransfersItem:b,CreateAccountsFact:O,KeyUpdaterFact:y,TransfersFact:v,Operation:m}}).call(this,n(2).Buffer)},406:function(e,t){},408:function(e,t){},417:function(e,t){},419:function(e,t){},446:function(e,t){},447:function(e,t){},452:function(e,t){},454:function(e,t){},461:function(e,t){},480:function(e,t){},501:function(e,t){},503:function(e,t){},528:function(e,t){},529:function(e,t){},748:function(e,t){},766:function(e,t){},768:function(e,t){},786:function(e,t,n){},787:function(e,t,n){},788:function(e,t,n){},789:function(e,t,n){},790:function(e,t,n){},791:function(e,t,n){},792:function(e,t,n){},793:function(e,t,n){},794:function(e,t,n){},795:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){},805:function(e,t,n){},806:function(e,t,n){},807:function(e,t,n){},808:function(e,t,n){},809:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),s=n(133),c=n.n(s),a=n(12),o=n(135),u=n(52),l=n(4),h=function e(t,n,i){Object(l.a)(this,e),this.address=t,this.privateKey=n,this.resKey=void 0,this.publicKeys=i._embedded.keys.keys.map((function(e){return{key:e.key,weight:e.weight}})),this.balances=i._embedded.balance.map((function(e){return{currency:e.currency,amount:e.amount}})),this.accountType=this.publicKeys.length>1?"multi":"single"},d="LOGIN",f="LOGOUT",p="SET_OPERATION",b="SET_RESPONSE";function j(e,t,n){var i=new h(e,t,n);return{type:d,account:{address:i.address,accountType:i.accountType,publicKeys:i.publicKeys,balances:i.balances,privateKey:i.privateKey,restoreKey:void 0}}}function O(){return{type:f}}function y(e,t){return{type:p,operation:e,json:t}}function v(e,t,n,i,r){return{type:b,isBroadcast:e,isStateIn:t,res:n,status:i,data:r}}var m={isLogin:!1,account:void 0},g="OPER-CREATE-ACCOUNT",C="OPER-UPDATE-KEY",k="OPER-TRANSFER",R="OPER-DEFAULT",x="PAGE-LOGIN",E="PAGE-OPER",S="show-private",_="show-restore";var T=function(e){if(e&&Object.prototype.hasOwnProperty.call(e,"hash")){var t;try{t=new File([JSON.stringify(e,null,4)],"".concat(e.hash),{type:"application/json"})}catch(n){return void alert("JSON \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc url\uc744 \uc5bb\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. :(")}return URL.createObjectURL(t)}},N={operation:R,json:{},data:[],download:void 0,filename:"",isBroadcast:!1,isStateIn:!1,res:void 0,status:400},A=Object(o.a)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{isLogin:!0,account:t.account});case f:return Object(u.a)(Object(u.a)({},e),{},{isLogin:!1,account:void 0});default:return e}},operation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.operation===R?N:Object(u.a)(Object(u.a)({},e),{},{operation:t.operation,json:t.json,download:T(t.json),filename:t.json.hash});case b:return Object(u.a)(Object(u.a)({},e),{},{isBroadcast:t.isBroadcast,isStateIn:t.isStateIn,res:t.res,status:t.status,data:t.data});default:return e}}}),w=Object(o.b)(A,{}),I=(n(367),n(5)),K=n(7),P=n(6),L=n(15),M=n(16),U=(n(368),n(369),n.p+"static/media/logo_trans.39b47b2b.png"),D=n(0),F=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={isRedirect:!1},i}return Object(I.a)(n,[{key:"onClick",value:function(){this.setState({isRedirect:!0})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"home-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:"/login"}),Object(D.jsxs)("div",{className:"home-wrapper",onClick:function(){return e.onClick()},children:[Object(D.jsxs)("div",{className:"home-title-wrapper",children:[Object(D.jsx)("img",{src:U,alt:"logo"}),Object(D.jsx)("div",{className:"home-title",children:Object(D.jsx)("h1",{children:"MITUM WEB WALLET"})})]}),Object(D.jsx)("div",{className:"home-open",children:"OPEN WALLET"})]})]})}}]),n}(r.a.Component),B=n(106),V=n(24),Y=n.n(V),J=n(80),H=n(81),G=n.n(H),z=(n(390),n(391),n(82)),W=n.n(z);n(393),n(394);var X=function(e){return Object(D.jsx)("button",{className:"small-button draw-border",style:{display:e.visible?"inherit":"none"},disabled:!!e.disabled,onClick:e.onClick,children:e.children})},q=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={value:""},i}return Object(I.a)(n,[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"box "+this.props.size,children:[Object(D.jsx)("input",{className:"input-box",type:"text",name:"input-box",autoComplete:"off",value:this.state.value?this.state.value:this.props.value,disabled:this.props.disabled,onChange:this.props.onChange?this.props.onChange:function(){return e.onChange()},placeholder:this.props.placeholder?this.props.placeholder:""}),Object(D.jsx)(X,{visible:this.props.useCopy,onClick:function(){W()(e.props.value),alert("copied!")},children:"COPY"})]})}}]),n}(r.a.Component),Q=(n(395),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(D.jsx)("button",{className:"confirm-button",style:{opacity:this.props.disabled?.4:1},onClick:this.props.onClick,disabled:!!this.props.disabled,children:this.props.children})}}]),n}(r.a.Component)),Z=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={privateKey:"",account:"",data:void 0},i}return Object(I.a)(n,[{key:"onChangePrivate",value:function(e){this.setState({privateKey:e.target.value})}},{key:"onChangeAddress",value:function(e){this.setState({account:e.target.value})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"private-login-container",children:[Object(D.jsxs)("div",{className:"private-input-container",children:[Object(D.jsx)(q,{disabled:!1,useCopy:!1,size:"big",onChange:function(t){e.onChangeAddress(t)},value:this.state.account,placeholder:"account address",label:"Account Address"}),Object(D.jsx)(q,{disabled:!1,useCopy:!1,size:"big",onChange:function(t){return e.onChangePrivate(t)},value:this.state.privateKey,placeholder:"private key",label:"Private Key"})]}),Object(D.jsx)(Q,{disabled:!this.state.privateKey||!this.state.account,onClick:function(){return e.props.onLogin(e.state.account,e.state.privateKey)},children:"Open"})]})}}]),n}(r.a.Component),$=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(D.jsx)("div",{children:"RestoreKeyLoginBox"})}}]),n}(r.a.Component),ee=n(38),te=function(){var e=Object(J.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://testnet.protocon.io/account/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).renderForm=i.renderForm.bind(Object(B.a)(i)),i.reloadAccount=i.reloadAccount.bind(Object(B.a)(i)),i.state={mode:S,isPriv:!0,isActive:!1},i}return Object(I.a)(n,[{key:"onLogin",value:function(e,t){var n,i=this;try{n=Object(ee.toKeypair)(t,"").getPublicKey()}catch(r){return void alert("\uc9c0\uac11 \uc5f4\uae30 \uc2e4\ud328! :(\n\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ube44\ubc00\ud0a4\uc785\ub2c8\ub2e4.")}te(e).then((function(r){for(var s=r.data._embedded.keys.keys.map((function(e){return e.key})),c=0;c<s.length;c++)if(s[c]===n)return void i.props.signIn(e,t,r.data);alert("\uc9c0\uac11 \uc5f4\uae30 \uc2e4\ud328! :(\n\uacc4\uc815 [".concat(e,"]\uc758 \uba64\ubc84\uc5d0 \ud574\ub2f9 \ud0a4\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."))})).catch((function(e){console.log(e),alert("\uc9c0\uac11 \uc5f4\uae30 \uc2e4\ud328! :(\n\uacc4\uc815 \uc870\ud68c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\ubcf4\uc138\uc694.")}))}},{key:"onChange",value:function(){var e=document.querySelector("input[type=radio]:checked").value;this.state.isActive&&this.setState({mode:e})}},{key:"renderForm",value:function(){var e=this;switch(this.state.mode){case S:return Object(D.jsx)(Z,{onLogin:function(t,n){return e.onLogin(t,n)}});case _:return Object(D.jsx)($,{});default:return Object(D.jsx)(Z,{onLogin:function(t,n){return e.onLogin(t,n)}})}}},{key:"onClick",value:function(){this.state.isActive&&this.setState({isPriv:!this.state.isPriv})}},{key:"reloadAccount",value:function(){this.onLogin(this.props.account.address,this.props.account.privateKey)}},{key:"render",value:function(){var e=this;return this.props.isLogin&&this.reloadAccount(),Object(D.jsxs)("div",{className:"login-container",children:[Object(D.jsx)("h1",{children:"OPEN WALLET"}),!!this.props.isLogin&&Object(D.jsx)(M.a,{to:"/wallet/".concat(this.props.account.address)}),Object(D.jsxs)("div",{className:"login-radio",style:this.state.isActive?{}:{display:"none"},children:[Object(D.jsxs)("label",{className:"rad-label",children:[Object(D.jsx)("input",{type:"radio",className:"rad-input",value:S,name:"rad",onChange:function(){return e.onChange()},onClick:function(){return e.onClick()},checked:this.state.isPriv}),Object(D.jsx)("div",{className:"rad-design"}),Object(D.jsx)("div",{className:"rad-text",children:"Private Key"})]}),Object(D.jsxs)("label",{className:"rad-label",children:[Object(D.jsx)("input",{type:"radio",className:"rad-input",value:_,name:"rad",onChange:function(){return e.onChange()},onClick:function(){return e.onClick()},checked:!this.state.isPriv}),Object(D.jsx)("div",{className:"rad-design"}),Object(D.jsx)("div",{className:"rad-text",children:"Restore Key"})]})]}),this.renderForm()]})}}]),n}(r.a.Component),ie=Object(M.f)(Object(a.b)((function(e){return{isLogin:e.login.isLogin,account:e.login.account}}),(function(e){return{signIn:function(t,n,i){return e(j(t,n,i))}}}))(ne)),re=(n(786),n(787),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(D.jsx)("button",{className:"select-button",onClick:this.props.onClick,children:this.props.children})}}]),n}(r.a.Component)),se=(n(788),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose,i=e.account;return Object(D.jsx)("div",{className:t?"openModal modal":"modal",children:t?Object(D.jsxs)("section",{children:[Object(D.jsxs)("header",{children:["Public Key List",Object(D.jsx)("button",{className:"close",onClick:n,children:" \xd7 "})]}),Object(D.jsx)("main",{children:Object(D.jsx)("ul",{children:i.publicKeys.map((function(e){return t=e.key,Object(D.jsx)("li",{children:t},t);var t}))})})]}):null})}}]),n}(r.a.Component)),ce=Object(M.f)(Object(a.b)((function(e){return{account:e.login.account}}),null)(se)),ae=function(e){return!!e&&(!(!Object.prototype.hasOwnProperty.call(e,"hash")||!e.hash)&&(!!Object.prototype.hasOwnProperty.call(e,"memo")&&(!(!Object.prototype.hasOwnProperty.call(e,"fact")||!e.fact)&&(!(!Object.prototype.hasOwnProperty.call(e,"fact_signs")||!e.fact_signs)&&!(e.fact_signs.map((function(e){return e.signatures})).length<1)))))},oe=function(e){return!!e&&(!(!Object.prototype.hasOwnProperty.call(e,"location")||!e.location)&&!(!Object.prototype.hasOwnProperty.call(e.location,"state")||!e.location.state))},ue={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",margin:"0",padding:"0"},le={width:"100%",border:"2px solid white",verticalAlign:"middle"},he=function(e){return Object(D.jsxs)("div",{style:ue,children:[Object(D.jsx)("div",{style:le}),Object(D.jsx)("p",{style:{width:"100%",textAlign:"center",verticalAlign:"middle",fontWeight:"400",fontSize:"1.5em"},children:e}),Object(D.jsx)("div",{style:le})]})},de=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).scrollToAccount=function(){r.walletRef.current&&r.walletRef.current.scrollIntoView({behavior:"smooth"})},r.walletRef=Object(i.createRef)(),r.state={restoreKey:void 0,isModalOpen:!1,isRedirect:!r.props.isLogin,redirect:r.props.isLogin?void 0:x,operation:void 0},r}return Object(I.a)(n,[{key:"onMoreClick",value:function(){this.setState({isDetailVisible:!this.state.isDetailVisible})}},{key:"onShowClick",value:function(e){if(e===S)this.setState({isPrivVisible:!this.state.isPrivVisible});else{if(e!==_)return;this.setState({isResVisible:!this.state.isResVisible})}}},{key:"onSelect",value:function(e){e!==g&&e!==C&&e!==k||this.setState({isRedirect:!0,redirect:E,operation:e})}},{key:"renderRedirect",value:function(){if(!this.props.account||!((e=this.props.account)&&Object.prototype.hasOwnProperty.call(e,"address")&&e.address&&Object.prototype.hasOwnProperty.call(e,"accountType")&&e.accountType&&Object.prototype.hasOwnProperty.call(e,"publicKeys")&&e.publicKeys&&Object.prototype.hasOwnProperty.call(e,"balances")&&e.balances&&Object.prototype.hasOwnProperty.call(e,"privateKey")&&e.privateKey))return Object(D.jsx)(M.a,{to:"/login"});var e;if(!this.state.isRedirect)return!1;switch(this.state.redirect){case E:return Object(D.jsx)(M.a,{to:{pathname:"/operation",state:{operation:this.state.operation}}});case x:return Object(D.jsx)(M.a,{to:"/login"});default:return!1}}},{key:"componentDidMount",value:function(){this.scrollToAccount()}},{key:"componentDidUpdate",value:function(){this.scrollToAccount()}},{key:"refresh",value:function(){this.setState({isRedirect:!0,redirect:x})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"wallet-container",children:[this.renderRedirect(),Object(D.jsx)("span",{className:"wallet-refresh",children:Object(D.jsx)("p",{onClick:function(){return e.refresh()},children:"\u27f3"})}),Object(D.jsx)("div",{className:"wallet-ref",ref:this.walletRef}),Object(D.jsxs)("div",{className:"wallet-info",children:[he("ADDRESS"+("multi"===this.props.account.accountType?" - MULTI":" - SINGLE")),Object(D.jsx)("p",{id:"address",onClick:function(){return e.openModal()},children:this.props.account.address}),Object(D.jsxs)("section",{className:"wallet-amount",children:[he("BALANCE"),Object(D.jsx)("ul",{children:!!this.props.account.balances&&this.props.account.balances.map((function(e){return t=e,Object(D.jsxs)("li",{children:[Object(D.jsx)("p",{className:"currency",children:t.currency}),Object(D.jsx)("p",{className:"amount",children:t.amount})]},t.currency);var t}))})]})]}),Object(D.jsxs)("div",{className:"wallet-operation",children:[Object(D.jsx)(re,{size:"wide",onClick:function(){return e.onSelect(g)},children:"CREATE ACCOUNT"}),Object(D.jsx)(re,{size:"wide",onClick:function(){return e.onSelect(C)},children:"UPDATE KEY"}),Object(D.jsx)(re,{size:"wide",onClick:function(){return e.onSelect(k)},children:"TRANSFER"})]}),Object(D.jsx)(ce,{onClose:function(){return e.closeModal()},isOpen:this.state.isModalOpen})]})}}]),n}(r.a.Component),fe=Object(M.f)(Object(a.b)((function(e){return{isLogin:e.login.isLogin,account:e.login.account}}),(function(e){return{signIn:function(t,n,i){return e(j(t,n,i))}}}))(de)),pe=(n(789),n(25)),be="ether",je="stellar",Oe=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={privKey:"",pubKey:""},e}return Object(I.a)(n,[{key:"getKey",value:function(e){var t=Object(ee.getKeypair)(e),n=t.privKey.key+":",i=t.pubKey+":";switch(e){case"btc":n+=pe.key.btc.priv,i+=pe.key.btc.pub;break;case be:n+=pe.key.ether.priv,i+=pe.key.ether.pub;break;case je:n+=pe.key.stellar.priv,i+=pe.key.stellar.pub;break;default:throw new Error("Invalid key type")}n+="-"+pe.version,i+="-"+pe.version,this.setState({privKey:n,pubKey:i})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"key-gen-container",children:[Object(D.jsxs)("div",{className:"key-selector",children:[Object(D.jsx)(re,{onClick:function(){return e.getKey("btc")},children:"BTC"}),Object(D.jsx)(re,{onClick:function(){return e.getKey(be)},children:"ETHER"}),Object(D.jsx)(re,{onClick:function(){return e.getKey(je)},children:"STELLAR"})]}),Object(D.jsxs)("div",{className:"key-boxer",children:[Object(D.jsx)(q,{label:"Private Key",disabled:!0,useCopy:!0,size:"big",value:this.state.privKey}),Object(D.jsx)(q,{label:"Public Key",disabled:!0,useCopy:!0,size:"big",value:this.state.pubKey})]})]})}}]),n}(r.a.Component);n(790);var ye=function(){return Object(D.jsx)("div",{className:"res-container",children:Object(D.jsx)("h1",{children:"ResKeyGen"})})},ve=(n(791),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"help-container",children:Object(D.jsx)("h1",{children:"Help"})})}}]),n}(r.a.Component)),me=n(39),ge=(n(792),n(62)),Ce=(n(793),n(794),function(){var e=Object(J.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae(t)){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,G.a.post("https://testnet.protocon.io/builder/send",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={isRedirect:!1},i}return Object(I.a)(n,[{key:"onSend",value:function(e){var t=this;Ce(e).then((function(n){if(200===n.request.status){var i=void 0;switch(t.props.operation){case g:i=e.fact.items.map((function(e){return e.keys.hash+":"+pe.address+"-v0.0.1"}));break;case C:i=e.fact.hash;break;case k:default:i=void 0}t.props.setResult(!0,!1,n.data,200,i)}else t.props.setResult(!1,!1,n.data,n.request.status,void 0);t.setState({isRedirect:!0})})).catch((function(e){t.props.setResult(!1,!1,e.response.data,e.response.data.status,void 0),t.setState({isRedirect:!0}),alert("\uc791\uc5c5\uc744 \uc804\uc1a1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ub124\ud2b8\uc6cc\ud06c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")}))}},{key:"renderRedirect",value:function(){switch(this.props.operation){case g:case k:return Object(D.jsx)(M.a,{to:"/response"});case C:return Object(D.jsx)(M.a,{to:"/loading"});default:return alert("\uc798\ubabb\ub41c \uc791\uc5c5\uc785\ub2c8\ub2e4!\n\uc9c0\uac11 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),Object(D.jsx)(M.a,{to:"/login"})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOpen,i=t.onClose,r=t.json,s=t.filename,c=t.download;return Object(D.jsxs)("div",{className:n?"openModal modal":"modal",children:[!!this.state.isRedirect&&this.renderRedirect(),n?Object(D.jsxs)("section",{children:[Object(D.jsxs)("header",{children:["\uc774 \uc791\uc5c5\uc744 \uc804\uc1a1\ud558\uaca0\uc2b5\ub2c8\uae4c?",Object(D.jsx)("button",{className:"close",onClick:i,children:" \xd7 "})]}),Object(D.jsxs)("main",{children:[Object(D.jsx)("p",{children:"\uc804\uc1a1 \ubc84\ud2bc\uc744 \ub204\ub978 \ud6c4\uc5d0\ub294 \uc791\uc5c5\uc744 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc791\uc5c5 \ub0b4\uc6a9\uc774 \uc815\ud655\ud55c\uac00\uc694?"}),Object(D.jsxs)("span",{children:[Object(D.jsx)("p",{className:"modal-button",id:"no",onClick:i,children:"\ucde8\uc18c!:("}),Object(D.jsx)("a",{className:"modal-button",id:"no",target:"_blank",download:"".concat(s,".json"),href:c,rel:"noreferrer",children:"JSON \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc!:["}),Object(D.jsx)("p",{className:"modal-button",id:"yes",onClick:function(){return e.onSend(r)},children:"\uc804\uc1a1!:)"})]})]})]}):null]})}}]),n}(r.a.Component),Re=Object(M.f)(Object(a.b)((function(e){return{operation:e.operation.operation,json:e.operation.json,download:e.operation.download,filename:e.operation.filename,data:e.operation.data,res:e.operation.res,status:e.operation.status}}),(function(e){return{setResult:function(t,n,i,r,s){return e(v(t,n,i,r,s))}}}))(ke));n(795);var xe=function(e){var t=e.keys,n=e.title;return Object(D.jsxs)("section",{className:"key-container",children:[Object(D.jsx)("p",{id:"head",children:n}),Object(D.jsxs)("div",{className:"label",children:[Object(D.jsx)("p",{id:"key",children:"KEY"}),Object(D.jsx)("p",{id:"weight",children:"WEIGHT"})]}),Object(D.jsx)("ul",{children:!!t&&t.map((function(e){return function(e){return Object(D.jsxs)("li",{children:[Object(D.jsx)("p",{id:"key",children:e.key}),Object(D.jsx)("p",{id:"weight",children:e.weight})]},e.key)}(e)}))})]})};n(796);var Ee=function(e){var t=e.balances,n=e.title,i=e.labeled;return Object(D.jsxs)("section",{className:"balance-container",children:[Object(D.jsx)("p",{id:"head",children:n}),!!i&&Object(D.jsxs)("div",{className:"label",children:[Object(D.jsx)("p",{id:"currency",children:"CURRENCY ID"}),Object(D.jsx)("p",{id:"amount",children:"AMOUNT"})]}),Object(D.jsx)("ul",{className:i?"wide":"slim",children:!!t&&t.map((function(e){return function(e){return Object(D.jsxs)("li",{children:[Object(D.jsx)("p",{id:"currency",children:e.currency}),Object(D.jsx)("p",{id:"amount",children:e.amount})]},e.currency)}(e)}))})]})};n(797);var Se=function(e){var t=e.onKeyChange,n=e.onWeightChange,i=e.onAdd,r=e.isAddDisabled,s=e.pub,c=e.weight,a=e.useThres;return Object(D.jsxs)("section",{className:"key-adder-container",children:[Object(D.jsxs)("div",{className:"key-adder",children:[Object(D.jsx)(q,{size:"medium",useCopy:!1,disabled:!1,placeholder:"public key",value:s,onChange:t}),Object(D.jsx)(q,{size:"small",useCopy:!1,disabled:!1,placeholder:"weight",value:c,onChange:n}),Object(D.jsx)(X,{visible:!0,disabled:r,onClick:i,children:"ADD"})]}),!!a&&Object(D.jsxs)("div",{className:"thres-adder",children:[Object(D.jsx)("p",{children:"THRESHOLD:"}),Object(D.jsx)(q,{size:"small",useCopy:!1,disabled:!1,placeholder:"threshold",value:e.thres,onChange:e.onThresChange})]})]})};n(798);var _e=function(e){var t=e.onCurrencyChange,n=e.onAmountChange,i=e.currency,r=e.amount,s=e.isAddDisabled,c=e.onAdd;return Object(D.jsx)("section",{className:"amount-adder-container",children:Object(D.jsxs)("div",{className:"amount-adder",children:[Object(D.jsx)(q,{size:"small",useCopy:!1,disabled:!1,placeholder:"currency",onChange:t,value:i}),Object(D.jsx)(q,{size:"medium",useCopy:!1,disabled:!1,placeholder:"amount",value:r,onChange:n}),Object(D.jsx)(X,{visible:!0,disabled:s,onClick:c,children:"ADD"})]})})},Te=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).scrollToInput=function(){r.createdRef.current&&(r.state.keys.length>0||r.state.amounts.length>0)?r.createdRef.current.scrollIntoView({behavior:"smooth"}):r.titleRef.current&&r.titleRef.current.scrollIntoView({behavior:"smooth"})},r.createdRef=Object(i.createRef)(),r.titleRef=Object(i.createRef)(),Object.prototype.hasOwnProperty.call(r.props,"account")&&r.props.account?(r.state={isRedirect:!1,keys:[],amounts:[],threshold:"",publicKey:"",weight:"",currency:"",amount:"",isModalOpen:!1},r):(r.state={isRedirect:!0},Object(me.a)(r))}return Object(I.a)(n,[{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"onClick",value:function(){try{var e=new ee.Generator("mitum"),t=this.props.account,n=e.createKeys(this.state.keys.map((function(t){return e.formatKey(t.key,parseInt(t.weight))})),parseInt(this.state.threshold)),i=e.createAmounts(this.state.amounts.map((function(t){return e.formatAmount(parseInt(t.amount),t.currency)}))),r=e.createCreateAccountsFact(t.address,[e.createCreateAccountsItem(n,i)]),s=e.createOperation(r,"");s.addSign(t.privateKey);var c=s.dict();this.props.setJson(c),this.setState({isModalOpen:!0})}catch(a){console.log(a),alert("\uc791\uc5c5\uc744 \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. :(\n\uc785\ub825\ud558\uc2e0 \uc791\uc5c5 \ub0b4\uc6a9\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694~")}}},{key:"onChangePub",value:function(e){this.setState({publicKey:e.target.value})}},{key:"onChangeWeight",value:function(e){this.setState({weight:e.target.value})}},{key:"onChangeCurrency",value:function(e){this.setState({currency:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeThres",value:function(e){this.setState({threshold:e.target.value})}},{key:"addKey",value:function(){this.setState({keys:[].concat(Object(ge.a)(this.state.keys),[{key:this.state.publicKey,weight:this.state.weight}]),publicKey:"",weight:""})}},{key:"addAmount",value:function(){this.setState({amounts:[].concat(Object(ge.a)(this.state.amounts),[{currency:this.state.currency,amount:this.state.amount}]),currency:"",amount:""})}},{key:"componentDidMount",value:function(){this.scrollToInput()}},{key:"componentDidUpdate",value:function(){this.scrollToInput()}},{key:"render",value:function(){var e=this,t=this.props.account;return Object(D.jsxs)("div",{className:"ca-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:"/login"}),Object(D.jsx)("div",{ref:this.titleRef}),Object(D.jsx)("h1",{children:"CREATE ACCOUNT"}),Object(D.jsx)("div",{className:"ca-balance-wrap",children:Object(D.jsx)(Ee,{title:"CURRENT BALANCE LIST",labeled:!1,balances:t.balances})}),Object(D.jsxs)("div",{className:"ca-input-wrap",children:[Object(D.jsx)("div",{ref:this.createdRef}),Object(D.jsxs)("div",{className:"ca-keys",children:[Object(D.jsx)(xe,{title:"KEY LIST",keys:this.state.keys,labeled:!0}),Object(D.jsx)(Se,{onKeyChange:function(t){return e.onChangePub(t)},onWeightChange:function(t){return e.onChangeWeight(t)},onThresChange:function(t){return e.onChangeThres(t)},onAdd:function(){return e.addKey()},isAddDisabled:!(this.state.publicKey&&this.state.weight),pub:this.state.publicKey,weight:this.state.weight,thres:this.state.threshold,useThres:!0})]}),Object(D.jsxs)("div",{className:"ca-amounts",children:[Object(D.jsx)(Ee,{title:"AMOUNT LIST",balances:this.state.amounts,labeled:!0}),Object(D.jsx)(_e,{onCurrencyChange:function(t){return e.onChangeCurrency(t)},onAmountChange:function(t){return e.onChangeAmount(t)},currency:this.state.currency,amount:this.state.amount,isAddDisabled:!(this.state.currency&&this.state.amount),onAdd:function(){return e.addAmount()}})]})]}),Object(D.jsx)(Q,{disabled:this.state.amounts.length<1||this.state.keys.length<1||""===this.state.threshold,onClick:function(){return e.onClick()},children:"CREATE"}),Object(D.jsx)(Re,{isOpen:this.state.isModalOpen,onClose:function(){return e.closeModal()}})]})}}]),n}(r.a.Component),Ne=Object(M.f)(Object(a.b)(null,(function(e){return{setJson:function(t){return e(y(g,t))}}}))(Te));n(799),n(800);var Ae=function(e){var t=e.thres,n=e.currency,i=e.onCurrencyChange,r=e.onThresChange;return Object(D.jsxs)("section",{className:"extra-adder-container",children:[Object(D.jsxs)("div",{className:"thres-adder",children:[Object(D.jsx)("p",{children:"THRESHOLD :"}),Object(D.jsx)(q,{size:"small",useCopy:!1,disabled:!1,placeholder:"threshold",value:t,onChange:r})]}),Object(D.jsxs)("div",{className:"currency-adder",children:[Object(D.jsx)("p",{children:"CURRENCY ID:"}),Object(D.jsx)(q,{size:"small",useCopy:!1,disabled:!1,placeholder:"currency",value:n,onChange:i})]})]})},we=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).scrollToInput=function(){r.createdRef.current&&r.state.keys.length>0?r.createdRef.current.scrollIntoView({behavior:"smooth"}):r.titleRef.current&&r.titleRef.current.scrollIntoView({behavior:"smooth"})},r.createdRef=Object(i.createRef)(),r.titleRef=Object(i.createRef)(),Object.prototype.hasOwnProperty.call(r.props,"account")&&r.props.account?(r.state={isRedirect:!1,keys:[],threshold:"",currency:"",publicKey:"",weight:"",created:void 0,isModalOpen:!1,download:void 0,filename:""},r):(r.state={isRedirect:!0},Object(me.a)(r))}return Object(I.a)(n,[{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"onClick",value:function(){try{var e=new ee.Generator("mitum"),t=this.props.account,n=e.createKeys(this.state.keys.map((function(t){return e.formatKey(t.key,parseInt(t.weight))})),parseInt(this.state.threshold)),i=e.createKeyUpdaterFact(t.address,this.state.currency,n),r=e.createOperation(i,"");r.addSign(t.privateKey);var s=r.dict();this.props.setJson(s),this.setState({isModalOpen:!0})}catch(c){console.log(c),alert("\uc791\uc5c5\uc744 \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. :(\n\uc785\ub825\ud558\uc2e0 \uc791\uc5c5 \ub0b4\uc6a9\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694~")}}},{key:"onChangePub",value:function(e){this.setState({publicKey:e.target.value})}},{key:"onChangeWeight",value:function(e){this.setState({weight:e.target.value})}},{key:"onChangeThres",value:function(e){this.setState({threshold:e.target.value})}},{key:"onChangeCurrency",value:function(e){this.setState({currency:e.target.value})}},{key:"addKey",value:function(){this.setState({keys:[].concat(Object(ge.a)(this.state.keys),[{key:this.state.publicKey,weight:this.state.weight}]),publicKey:"",weight:""})}},{key:"componentDidMount",value:function(){this.scrollToInput()}},{key:"componentDidUpdate",value:function(){this.scrollToInput()}},{key:"render",value:function(){var e=this,t=this.props.account;return Object(D.jsxs)("div",{className:"uk-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:"/login"}),Object(D.jsx)("div",{ref:this.titleRef}),Object(D.jsx)("h1",{children:"UPDATE KEY"}),Object(D.jsx)("div",{className:"uk-info-wrap",children:Object(D.jsx)(xe,{title:"CURRENT KEY LIST",keys:t.publicKeys})}),Object(D.jsxs)("div",{className:"uk-input-wrap",children:[Object(D.jsx)("div",{ref:this.createdRef}),Object(D.jsxs)("div",{className:"uk-keys",children:[Object(D.jsx)(xe,{title:"NEW KEY LIST",keys:this.state.keys}),Object(D.jsxs)("section",{className:"uk-keys-adder",children:[Object(D.jsx)(Se,{onKeyChange:function(t){return e.onChangePub(t)},onWeightChange:function(t){return e.onChangeWeight(t)},onAdd:function(){return e.addKey()},isAddDisabled:!(this.state.publicKey&&this.state.weight),pub:this.state.publicKey,weight:this.state.weight,useThres:!1}),Object(D.jsx)(Ae,{onThresChange:function(t){return e.onChangeThres(t)},onCurrencyChange:function(t){return e.onChangeCurrency(t)},thres:this.state.threshold,currency:this.state.currency})]})]})]}),Object(D.jsx)(Q,{disabled:this.state.keys.length<1||""===this.state.threshold||""===this.state.currency,onClick:function(){return e.onClick()},children:"UPDATE"}),Object(D.jsx)(Re,{isOpen:this.state.isModalOpen,onClose:function(){return e.closeModal()}})]})}}]),n}(r.a.Component),Ie=Object(M.f)(Object(a.b)(null,(function(e){return{setJson:function(t){return e(y(C,t))}}}))(we)),Ke=(n(801),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).scrollToInput=function(){r.createdRef.current&&r.state.amounts.length>0?r.createdRef.current.scrollIntoView({behavior:"smooth"}):r.titleRef.current&&r.titleRef.current.scrollIntoView({behavior:"smooth"})},r.createdRef=Object(i.createRef)(),r.titleRef=Object(i.createRef)(),Object.prototype.hasOwnProperty.call(r.props,"account")&&r.props.account?(r.state={isRedirect:!1,amounts:[],currency:"",amount:"",address:"",created:void 0,isModalOpen:!1,download:void 0,filename:""},r):(r.state={isRedirect:!0},Object(me.a)(r))}return Object(I.a)(n,[{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"onClick",value:function(){try{var e=new ee.Generator("mitum"),t=this.props.account,n=e.createAmounts(this.state.amounts.map((function(t){return e.formatAmount(parseInt(t.amount),t.currency)}))),i=e.createTransfersFact(t.address,[e.createTransfersItem(this.state.address,n)]),r=e.createOperation(i,"");r.addSign(t.privateKey);var s=r.dict();this.props.setJson(s),this.setState({isModalOpen:!0})}catch(c){console.log(c),alert("\uc791\uc5c5\uc744 \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. :(\n\uc785\ub825\ud558\uc2e0 \uc791\uc5c5 \ub0b4\uc6a9\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694~")}}},{key:"onChangeCurrency",value:function(e){this.setState({currency:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeAddress",value:function(e){this.setState({address:e.target.value})}},{key:"addAmount",value:function(){this.setState({amounts:[].concat(Object(ge.a)(this.state.amounts),[{currency:this.state.currency,amount:this.state.amount}]),currency:"",amount:""})}},{key:"componentDidMount",value:function(){this.scrollToInput()}},{key:"componentDidUpdate",value:function(){this.scrollToInput()}},{key:"render",value:function(){var e=this,t=this.props.account;return Object(D.jsxs)("div",{className:"tf-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:"/login"}),Object(D.jsx)("div",{ref:this.titleRef}),Object(D.jsx)("h1",{children:"TRANSFER"}),Object(D.jsx)("div",{className:"tf-balance-wrap",children:Object(D.jsx)(Ee,{title:"CURRENT BALANCE LIST",labeled:!1,balances:t.balances})}),Object(D.jsxs)("div",{className:"tf-input-wrap",children:[Object(D.jsx)("div",{ref:this.createdRef}),Object(D.jsxs)("div",{className:"tf-amounts",children:[Object(D.jsx)(Ee,{title:"AMOUNT LIST",labeled:!0,balances:this.state.amounts}),Object(D.jsx)(_e,{onCurrencyChange:function(t){return e.onChangeCurrency(t)},onAmountChange:function(t){return e.onChangeAmount(t)},currency:this.state.currency,amount:this.state.amount,isAddDisabled:!(this.state.currency&&this.state.amount),onAdd:function(){return e.addAmount()}}),Object(D.jsxs)("div",{className:"tf-address-adder",children:[Object(D.jsx)("p",{children:"RECEIVER'S ADDRESS:"}),Object(D.jsx)(q,{size:"medium",useCopy:!1,disabled:!1,placeholder:"target address",value:this.state.threshold,onChange:function(t){return e.onChangeAddress(t)}})]})]})]}),Object(D.jsx)(Q,{disabled:this.state.amounts.length<1||""===this.state.address,onClick:function(){return e.onClick()},children:"TRANSFER"}),Object(D.jsx)(Re,{isOpen:this.state.isModalOpen,onClose:function(){return e.closeModal()}})]})}}]),n}(r.a.Component)),Pe=Object(M.f)(Object(a.b)(null,(function(e){return{setJson:function(t){return e(y(k,t))}}}))(Ke)),Le=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),i=t.call(this,e),oe(i.props)&&Object.prototype.hasOwnProperty.call(i.props.location.state,"operation")&&i.props.location.state.operation&&i.props.isLogin?(i.state={isRedirect:!i.props.isLogin,account:i.props.account,operation:i.props.location.state.operation},i):(i.state={isRedirect:!0,account:void 0,operation:void 0},Object(me.a)(i))}return Object(I.a)(n,[{key:"render",value:function(){var e;return e=this.props.isLogin?"/wallet/".concat(this.props.account.address):"/login",Object(D.jsxs)("div",{className:"oper-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:e}),this.state.operation===g?Object(D.jsx)(Ne,{account:this.state.account}):this.state.operation===C?Object(D.jsx)(Ie,{account:this.state.account}):this.state.operation===k?Object(D.jsx)(Pe,{account:this.state.account}):Object(D.jsx)(M.a,{to:e})]})}}]),n}(r.a.Component),Me=Object(a.b)((function(e){return{isLogin:e.login.isLogin,account:e.login.account}}))(Le),Ue=(n(802),{display:"block",padding:"10px 30px",margin:"0",overflow:"visible",whiteSpace:"pre-wrap"}),De=pe.operation.create_account+"-v0.0.1",Fe=pe.operation.update_key+"-v0.0.1",Be=pe.operation.transfer+"-v0.0.1",Ve=function(e){switch(e){case De:return g;case Fe:return C;case Be:return k;default:return R}},Ye=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).scrollToJSON=function(){r.jsonRef.current&&r.state.isJsonOpen?r.jsonRef.current.scrollIntoView({behavior:"smooth"}):r.infoRef.current&&r.state.json&&!r.state.isJsonOpen?r.infoRef.current.scrollIntoView({behavior:"smooth"}):r.createdRef.current&&r.createdRef.current.scrollIntoView({behavior:"smooth"})},r.createdRef=Object(i.createRef)(),r.infoRef=Object(i.createRef)(),r.jsonRef=Object(i.createRef)(),oe(r.props)&&r.props.isLogin?(r.props.setJson(R,{}),r.state={isRedirect:!1,type:"",sigs:[],isModalOpen:!1,isJsonOpen:!1},r):(r.state={isRedirect:!0},Object(me.a)(r))}return Object(I.a)(n,[{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"componentDidMount",value:function(){this.scrollToJSON()}},{key:"componentDidUpdate",value:function(){this.scrollToJSON()}},{key:"jsonView",value:function(){var e=this;return Object(D.jsx)("div",{className:"sign-json",children:this.props.operation!==R&&Object(D.jsx)("pre",{style:Ue,onClick:function(){return t=JSON.stringify(e.props.json,null,4),W()(t),void alert("copied!");var t},children:JSON.stringify(this.props.json,null,4)})})}},{key:"importJSON",value:function(e){var t=this,n=e.target.files[0],i=new FileReader,r=this.props.json;try{i.onload=function(){var e=JSON.parse(i.result);if(ae(e)){var n=Ve(e._hint);t.props.setJson(n,e),t.setState({type:e._hint,sigs:e.fact_signs.map((function(e){return e.signature}))})}else alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc791\uc5c5 \ud30c\uc77c\uc785\ub2c8\ub2e4.")},i.readAsText(n,"utf-8")}catch(e){var s=Ve(r._hint);this.props.setJson(s,r),this.setState({type:r?r._hint:"",sigs:r&&Object.prototype.hasOwnProperty.call(r,"fact_signs")?r.fact_signs.map((function(e){return e.signature})):[]}),alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc791\uc5c5\ud30c\uc77c \uc785\ub2c8\ub2e4.")}}},{key:"onClickSend",value:function(){this.setState({isModalOpen:!0})}},{key:"onClickSign",value:function(){var e=this.props.json;if(ae(e)){var t=new ee.Signer("mitum",this.props.account.privateKey);try{var n=t.signOperation(e),i=Ve(n._hint);this.props.setJson(i,n),this.setState({type:n._hint,sigs:n.fact_signs.map((function(e){return e.signature}))}),alert("\uc131\uacf5! :D")}catch(s){var r=Ve(e._hint);this.props.setJson(r,e),this.setState({type:Object.prototype.hasOwnProperty.call(e,"_hint")?e._hint:"",sigs:e.fact_signs.map((function(e){return e.signature}))}),alert("\uc791\uc5c5\uc5d0 \uc11c\uba85\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. :(")}}}},{key:"openJSON",value:function(){this.setState({isJsonOpen:!this.state.isJsonOpen})}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"sign-container",children:[!!this.state.isRedirect&&Object(D.jsx)(M.a,{to:"/login"}),Object(D.jsx)("div",{ref:this.createdRef}),Object(D.jsx)("h1",{children:"SIGN / SEND OPERATION"}),Object(D.jsx)("div",{ref:this.infoRef}),Object(D.jsxs)("div",{className:"sign-operation",children:[Object(D.jsxs)("div",{className:"sign-info",children:[Object(D.jsxs)("span",{id:"other",children:[Object(D.jsx)("p",{id:"head",children:"FACT HASH"}),Object(D.jsx)("p",{id:"body",children:this.props.json&&Object.prototype.hasOwnProperty.call(this.props.json,"fact")?this.props.json.fact.hash:"NONE"})]}),Object(D.jsxs)("span",{id:"other",children:[Object(D.jsx)("p",{id:"head",children:"TYPE"}),Object(D.jsx)("p",{id:"body",children:this.state.type?this.state.type:"NONE"})]}),Object(D.jsxs)("span",{id:"sig",children:[Object(D.jsx)("p",{id:"head",children:"SIGNATURES"}),Object(D.jsx)("ul",{children:this.state.sigs.length>0?this.state.sigs.map((function(e){return function(e){return Object(D.jsx)("li",{children:e},e)}(e)})):Object(D.jsx)("li",{style:{textAlign:"center"},children:"-"})})]})]}),Object(D.jsx)("div",{ref:this.jsonRef}),!!this.props.json&&Object(D.jsx)("div",{className:"sign-view-json",onClick:function(){return e.openJSON()},children:Object(D.jsx)("p",{children:this.state.isJsonOpen?"CLOSE":"VIEW JSON"})}),!!this.state.isJsonOpen&&this.jsonView(),Object(D.jsx)("div",{className:"sign-files",children:Object(D.jsx)("input",{type:"file",onChange:function(t){return e.importJSON(t)}})})]}),Object(D.jsxs)("div",{className:"sign-buttons",children:[Object(D.jsx)(Q,{disabled:this.props.operation===R,onClick:function(){return e.onClickSend()},children:"SEND"}),Object(D.jsx)(Q,{disabled:this.props.operation===R,onClick:function(){return e.onClickSign()},children:"SIGN"})]}),Object(D.jsx)(Re,{isOpen:this.state.isModalOpen,onClose:function(){return e.closeModal()}})]})}}]),n}(r.a.Component),Je=Object(M.f)(Object(a.b)((function(e){return{isLogin:e.login.isLogin,account:e.login.account,operation:e.operation.operation,json:e.operation.json}}),(function(e){return{setJson:function(t,n){return e(y(t,n))}}}))(Ye)),He=(n(803),!1),Ge=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={rand:0},i}return Object(I.a)(n,[{key:"close",value:function(){He=!0,this.setState({rand:this.state.rand+1})}},{key:"check",value:function(){return!!He&&(He=!1,Object(D.jsx)(M.a,{to:"/logout"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLogin,i=t.account,r=i?i.address.substring(0,10)+"... (close wallet)":void 0;return Object(D.jsxs)("div",{className:"nav",children:[!!this.state.rand&&this.check(),Object(D.jsx)(L.b,{className:"nav-title",to:"/",children:Object(D.jsx)("p",{children:"MITUM WEB WALLET"})}),Object(D.jsx)(L.b,{className:"nav-login "+(n?"on":"off"),to:"/login",children:Object(D.jsx)("p",{children:"OPEN WALLET"})}),!!n&&Object(D.jsx)("p",{onClick:function(){return e.close()},id:"nav-addr",children:r}),!!n&&Object(D.jsx)(L.b,{className:"nav-sign",to:{pathname:"/sign",state:{json:void 0}},children:Object(D.jsx)("p",{children:"SIGN OPERATION"})}),Object(D.jsx)(L.b,{className:"main",to:"/key-generate",children:Object(D.jsx)("p",{children:"GENERATE KEYPAIR"})}),!(!i||!i.restoreKey)&&Object(D.jsx)(L.b,{className:"main",to:"/res-key-generate",children:Object(D.jsx)("p",{children:"GENERATE RESTORE KEY"})}),Object(D.jsx)(L.b,{className:"main nav-help",to:"/help",children:Object(D.jsx)("p",{children:"HELP"})})]})}}]),n}(r.a.Component),ze=Object(a.b)((function(e){return{isLogin:e.login.isLogin,account:e.login.account}}))(Ge),We=(n(804),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).props.signOut(),i}return Object(I.a)(n,[{key:"render",value:function(){return this.props.isLogin?Object(D.jsx)("span",{children:"WAIT..."}):Object(D.jsx)(M.a,{to:"/login"})}}]),n}(r.a.Component)),Xe=Object(a.b)((function(e){return{isLogin:e.login.isLogin}}),(function(e){return{signOut:function(){return e(O())}}}))(We);n(805);var qe=function(){return Object(D.jsx)("div",{className:"footer-container",children:Object(D.jsx)("a",{href:"https://github.com/ProtoconNet/mitum-web-wallet",children:"https://github.com/ProtoconNet/mitum-web-wallet"})})},Qe=(n(806),n(807),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"onLogout",value:function(){this.props.signOut(),this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.props.isOpen;return Object(D.jsx)("div",{className:t?"openModal modal":"modal",children:t?Object(D.jsxs)("section",{children:[Object(D.jsxs)("header",{children:["Wallet Closed",Object(D.jsx)("button",{className:"close",onClick:function(){return e.onLogout()},children:" \xd7 "})]}),Object(D.jsxs)("main",{children:[Object(D.jsx)("p",{children:"\uc9c0\uac11\uc774 \ub2eb\ud799\ub2c8\ub2e4. \ubcc0\uacbd\ub41c \ube44\ubc00\ud0a4\ub85c \uc9c0\uac11\uc744 \ub2e4\uc2dc \uc5f4\uc5b4\uc8fc\uc138\uc694.\n* \uc791\uc5c5 \uc2e4\ud328 \uc2dc\uc5d0\ub294 \uae30\uc874 \ube44\ubc00\ud0a4\ub97c \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."}),Object(D.jsx)("span",{children:Object(D.jsx)("p",{className:"modal-button",id:"confirm",onClick:function(){return e.onLogout()},children:"\ud655\uc778"})})]})]}):null})}}]),n}(r.a.Component)),Ze=Object(a.b)(null,(function(e){return{signOut:function(){return e(O())}}}))(Qe),$e=function(e){return Object(D.jsx)("li",{children:Object(D.jsx)("p",{onClick:function(){return t=e,W()(t),void alert("copied!");var t},children:e})},e)},et=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;Object(l.a)(this,n);var r=(i=t.call(this,e)).props.operation===C;return i.state={isRedirect:!1,isModalOpen:r,isSignOut:r},i}return Object(I.a)(n,[{key:"closeModal",value:function(){this.setState({isModalOpen:!1})}},{key:"renderResponse",value:function(){var e=this.props,t=e.res,n=e.status,i=e.operation,r=e.data;switch(n){case 200:return Object(D.jsxs)("section",{className:"res-detail success",children:[i===C?Object(D.jsx)("h1",{children:"KEY UPDATE SUCCESS~ :D"}):Object(D.jsx)("h1",{children:"BROADCAST SUCCESS~ :D"}),Object(D.jsxs)("div",{children:[i===g&&Object(D.jsxs)("section",{children:[Object(D.jsx)("h2",{children:"CREATED ADDRESS LIST"}),Object(D.jsx)("ul",{children:r.map((function(e){return $e(e)}))}),Object(D.jsx)("p",{children:"\uc9c0\uac11 \uc0dd\uc131 \uc131\uacf5 \uc5ec\ubd80\ub294 \uc9c0\uac11 \ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud574\uc8fc\uc138\uc694."})]}),i===k&&Object(D.jsx)("section",{children:Object(D.jsx)("p",{children:"\uc1a1\uae08 \uc131\uacf5 \uc5ec\ubd80\ub294 \uc9c0\uac11 \ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud574\uc8fc\uc138\uc694."})})]})]});case 400:return Object(D.jsxs)("section",{className:"res-detail fail",children:[Object(D.jsx)("h1",{children:"400 FAIL... :("}),Object(D.jsx)("p",{children:t.title})]});default:return Object(D.jsxs)("section",{className:"res-detail fail",children:[Object(D.jsx)("h1",{children:"FAIL... :("}),Object(D.jsx)("p",{children:"\uc751\ub2f5\uc744 \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})]})}}},{key:"renderRedirect",value:function(){return!!this.state.isRedirect&&(this.props.clearJson(),Object(D.jsx)(M.a,{to:"/login"}))}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{className:"res-container",children:[this.renderRedirect(),this.renderResponse(),Object(D.jsx)(Ze,{isOpen:this.state.isModalOpen,onClose:function(){return e.closeModal()}})]})}}]),n}(r.a.Component),tt=Object(M.f)(Object(a.b)((function(e){return{operation:e.operation.operation,data:e.operation.data,res:e.operation.res,status:e.operation.status,isStateIn:e.operation.isStateIn,isBroadcast:e.operation.isBroadcast}}),(function(e){return{clearJson:function(){return e(y(R,{}))},setResult:function(t,n,i,r,s){return e(v(t,n,i,r,s))}}}))(et)),nt=(n(808),function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={isRedirect:!1,counter:0},i}return Object(I.a)(n,[{key:"renderRedirect",value:function(){if(this.state.isRedirect)return Object(D.jsx)(M.a,{to:"/response"})}},{key:"getResponse",value:function(){var e=this;if(this.state.counter<50){var t=this.props,n=t.data,i=t.res,r=t.isBroadcast,s=function(){var t=Object(J.a)(Y.a.mark((function t(n,i,r){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.get("https://testnet.protocon.io/block/operation/"+n).then((function(t){t.data._embedded.in_state?(e.props.setResult(!0,!0,i,200,n),e.setState({isRedirect:!0})):(e.props.setResult(!0,!1,{title:t.data._embedded.reason.msg},400,n),e.setState({isRedirect:!0}))})).catch((function(t){404===t.response.data.status?e.setState({counter:e.state.counter+1}):(e.props.setResult(!0,!1,t.response.data,400,n),e.setState({isRedirect:!0}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();return setTimeout((function(e,t,n){s(e,t,n)}),5e3,n,i,r),function(){return e.getResponse()}}this.props.setResult(!0,!1,{title:"Too long time to stay response. Maybe mitum failed to process your operation. :("},400,this.props.data),this.setState({isRedirect:!0})}},{key:"componentDidMount",value:function(){this.getResponse()}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:"load-container",children:[this.renderRedirect(),Object(D.jsxs)("section",{className:"load-detail",children:[Object(D.jsx)("h1",{children:"Loading..."}),Object(D.jsx)("p",{children:"\ud0a4 \uc5c5\ub370\uc774\ud2b8 \uc131\uacf5 \uc5ec\ubd80\ub97c \uc870\ud68c \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694! >~<"}),Object(D.jsx)("p",{children:"REQUEST COUNT: ".concat(this.state.counter)})]})]})}}]),n}(r.a.Component)),it=Object(M.f)(Object(a.b)((function(e){return{data:e.operation.data,res:e.operation.res,status:e.operation.status}}),(function(e){return{setResult:function(t,n,i,r,s){return e(v(t,n,i,r,s))}}}))(nt)),rt=function(e){Object(K.a)(n,e);var t=Object(P.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"app-container",children:Object(D.jsxs)(L.a,{children:[Object(D.jsx)(ze,{}),Object(D.jsx)(M.b,{exact:!0,path:"/",component:F}),Object(D.jsx)(M.b,{path:"/login",component:ie}),Object(D.jsx)(M.b,{path:"/wallet/:account",component:fe}),Object(D.jsx)(M.b,{path:"/key-generate",component:Oe}),Object(D.jsx)(M.b,{path:"/res-key-generate",component:ye}),Object(D.jsx)(M.b,{path:"/help",component:ve}),Object(D.jsx)(M.b,{path:"/operation",component:Me}),Object(D.jsx)(M.b,{path:"/sign",component:Je}),Object(D.jsx)(M.b,{path:"/logout",component:Xe}),Object(D.jsx)(M.b,{path:"/response",component:tt}),Object(D.jsx)(M.b,{path:"/loading",component:it}),Object(D.jsx)(qe,{})]})})}}]),n}(r.a.Component),st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,811)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),s(e),c(e)}))};c.a.render(Object(D.jsx)(a.a,{store:w,children:Object(D.jsx)(rt,{})}),document.getElementById("root")),st()},91:function(e,t,n){(function(t){var i=n(202),r=n(203),s=n(83),c=n(84),a=n(107),o=n(113),u=n(205).VERSION,l=n(92),h=n(499),d=n(515),f=n(745),p=new(n(189).ec)("secp256k1"),b=(n(139),function(e,n){return t.compare(e.key._buffer(),n.key._buffer())}),j=function(){"use strict";function e(t,n){if(s(this,e),"unknown"==n){var i=a.parseHinted(t);this.hint=i.hint,this.key=i.hintless}else this.hint=a._hint(n),this.key=t}return c(e,[{key:"hinted",value:function(){return this.key+":"+this.hint}},{key:"buffer",value:function(){return t.from(this.hinted())}},{key:"_buffer",value:function(){return t.from(this.key)}}]),e}(),O=function(){"use strict";function e(t,n){s(this,e),this.hint=a._hint(o.MC_KEY),this.key=new j(t,"unknown"),this.weight=new a.BigInteger(n)}return c(e,[{key:"buffer",value:function(){return t.concat([this.key.buffer(),this.weight.buffer()])}},{key:"dict",value:function(){var e={};return e._hint=this.hint,e.weight=this.weight.value,e.key=this.key.hinted(),e}}]),e}(),y=function(){"use strict";function e(t,n){s(this,e),this.hint=a._hint(o.MC_KEYS),this.keys=t,this.threshold=new a.BigInteger(n),this.hash=this._generateHash()}return c(e,[{key:"address",get:function(){return this.hash.hash+":"+o.MC_ADDRESS+"-"+u}},{key:"buffer",value:function(){for(var e=[],n=0;n<this.keys.length;n++)e.push(this.keys[n]);var i=e.sort(b),r=a.concatObjectsToBuffer(i),s=this.threshold.buffer();return t.concat([r,s])}},{key:"dict",value:function(){var e={};e._hint=this.hint,e.hash=l.encode(this.hash);for(var t=[],n=0;n<this.keys.length;n++)t.push(this.keys[n].dict());return e.keys=t,e.threshold=this.threshold.value,e}},{key:"_generateHash",value:function(){return a.sum256(this.buffer())}}]),e}(),v=function(){"use strict";function e(t,n){switch(s(this,e),n){case o.BTC_PBLCKEY:this.privKey=new j(t,o.BTC_PRIVKEY);break;case o.ETHER_PBLCKEY:this.privKey=new j(t,o.ETHER_PRIVKEY);break;case o.STELLAR_PBLCKEY:this.privKey=new j(t,o.STELLAR_PRIVKEY);break;default:throw"[ERROR] Invalid keypair type"}this.pubKey=void 0,this.keypair=void 0,this.type=n}return c(e,[{key:"getPublicKey",value:function(){return this.pubKey+":"+a._hint(this.type)}},{key:"sign",value:function(e){throw"[ERROR] Unimplemented function sign(msg)"}},{key:"_generatePublicKey",value:function(){throw"[ERROR] Unimplemented function _generatePublicKey()"}}]),e}(),m=function(e){"use strict";i(u,e);var n=r(u);function u(e){var t;return s(this,u),(t=n.call(this,e,o.BTC_PBLCKEY))._generatePublicKey(),t}return c(u,[{key:"sign",value:function(e){var n=a.sha256(a.sha256(e)),i=this.keypair.getPrivate("hex");return t.from(p.sign(n,i,"hex",{canonical:!0}).toDER())}},{key:"_generatePublicKey",value:function(){var e=h.decode(this.privKey.key),n=t.from(e.slice(1,e.length-1));this.keypair=p.keyFromPrivate(n),this.pubKey=l.encode(f.getPublicCompressed(n))}}]),u}(v),g=function(e){"use strict";i(u,e);var n=r(u);function u(e){var t;return s(this,u),(t=n.call(this,e,o.ETHER_PBLCKEY))._generatePublicKey(),t}return c(u,[{key:"sign",value:function(e){var n=a.sha256(e),i=this.keypair.getPrivate("hex"),r=p.sign(n,i,"hex",{canonical:!0}).toDER(),s=r[3],c=r.slice(4,4+s),o=r[5+s],u=r.slice(6+s),l=new a.BigInteger(s).little(),h=t.alloc(s+o+4);return l.copy(h,0,0,4),t.from(c).copy(h,4,0,s),t.from(u).copy(h,s,0,o),h}},{key:"_generatePublicKey",value:function(){this.keypair=p.keyFromPrivate(this.privKey.key),this.pubKey=this.keypair.getPublic().encode("hex")}}]),u}(v),C=function(e){"use strict";i(n,e);var t=r(n);function n(e){var i;return s(this,n),(i=t.call(this,e,o.STELLAR_PBLCKEY))._generatePublicKey(),i}return c(n,[{key:"sign",value:function(e){return this.keypair.sign(e)}},{key:"_generatePublicKey",value:function(){this.keypair=d.Keypair.fromSecret(this.privKey.key),this.pubKey=this.keypair.publicKey()}}]),n}(v);e.exports={Key:O,Keys:y,BTCKeypair:m,ETHKeypair:g,StellarKeypair:C,getKeypair:function(e){if("btc"==e)return function(){var e=t.from("80"+p.genKeyPair().getPrivate("hex")+"01","hex"),n=a.sha256(e);n=a.sha256(n);var i=t.from(n.subarray(0,4));return new m(l.encode(t.concat([e,i])))}();if("ether"==e)return new g(p.genKeyPair().getPrivate("hex"));if("stellar"==e)return new C(d.Keypair.random().secret());throw"[ERROR] Wrong Input! (Usage: <getKeypair(#type)> type: 'btc', 'ether', 'stellar')"},toKeypair:function(e,t){var n=t,i=e;if(""==t){if(-1===e.indexOf(":"))throw"[ERROR] Wrong Input!\n(Usage: <toKeypair(key, type)> (#key, #type) must be (hinted-key, '') or (hintless-key, 'btc' | 'ether' | 'stellar'))";var r=a.parseHinted(e);i=r.hintless,n=a.getTypeFromHint(r.hint)}switch(n){case"btc":case o.BTC_PRIVKEY:return new m(i);case"ether":case o.ETHER_PRIVKEY:return new g(i);case"stellar":case o.STELLAR_PRIVKEY:return new C(i);default:throw"[ERROR] Wrong key type"}return null}}}).call(this,n(2).Buffer)}},[[809,1,2]]]);
//# sourceMappingURL=main.99ea2cc0.chunk.js.map